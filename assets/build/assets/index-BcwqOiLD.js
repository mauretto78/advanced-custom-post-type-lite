import{j as s,u as t}from"./fields-PF-HBT_1.js";import{u as R,a as x,d as S}from"./vendor-Bd2ZL6QG.js";import{P as u,w as C,r as P,b as q,u as L,f as k,m as E,k as N,L as A,s as b}from"./index-DMK511Nl.js";import{P as B}from"./index-B64eJMy8.js";import{B as h}from"./index-DcVJL_9b.js";import{s as $,n as I,B as M,f as D,L as F}from"./Layout-B2PWyaeR.js";import{C as m,a}from"./CardRow-Dw7_IcZg.js";import{t as V}from"./taxonomyLabels-BzaMSUhL.js";import{B as i}from"./index-mWmasEF3.js";const p=({data:e})=>{if(e.length>0)return s.jsxs(m,{children:[s.jsx(a,{label:t("Slug"),value:e[0].slug}),s.jsx(a,{label:t("Singular"),value:e[0].singular}),s.jsx(a,{label:t("Plural"),value:e[0].plural})]})};p.propTypes={data:u.object.isRequired};const f=({taxonomy:e,data:r})=>{const c=()=>{C("regenerateTaxonomyLabelsAction",{taxonomy:e}).then(l=>{l.success&&($("Labels successfully regenerated"),P(50)),l.error&&I.error(error)}).catch(l=>{console.error(l.message)})};if(r.length>0)return s.jsxs(m,{children:[s.jsxs("div",{className:"acpt-card-row",children:[s.jsx("span",{className:"label",children:s.jsx("a",{style:{fontWeight:"normal"},href:"#",onClick:l=>{l.preventDefault(),c()},children:t("Regenerate")})}),s.jsx("span",{className:"value"})]}),V.map(l=>s.jsx(a,{index:l.id,label:t(l.label),value:r[0].labels[l.id]}))]})};f.propTypes={taxonomy:u.string.isRequired,data:u.object.isRequired};const v=({data:e})=>{if(e.length>0)return s.jsxs(m,{children:[s.jsx(a,{label:t("Is Public"),value:s.jsx(i,{status:e[0].settings.public})}),s.jsx(a,{label:t("Publicly queryable"),value:s.jsx(i,{status:e[0].settings.publicly_queryable})}),s.jsx(a,{label:t("Hierarchical"),value:s.jsx(i,{status:e[0].settings.hierarchical})}),s.jsx(a,{label:t("Show in menu"),value:s.jsx(i,{status:e[0].settings.show_in_menu})}),s.jsx(a,{label:t("Show in nav menus"),value:s.jsx(i,{status:e[0].settings.show_in_nav_menus})}),s.jsx(a,{label:t("Show in REST API"),value:s.jsx(i,{status:e[0].settings.show_in_rest})}),s.jsx(a,{label:t("REST API base slug"),value:e[0].settings.rest_base}),s.jsx(a,{label:t("REST Controller class"),value:e[0].settings.rest_controller_class}),s.jsx(a,{label:t("Show Tagcloud"),value:s.jsx(i,{status:e[0].settings.show_tagcloud})}),s.jsx(a,{label:t("Show Tagcloud"),value:s.jsx(i,{status:e[0].settings.show_in_quick_edit})}),s.jsx(a,{label:t("Show admin column"),value:s.jsx(i,{status:e[0].settings.show_admin_column})}),s.jsx(a,{label:t("Capabilities"),value:s.jsx("div",{className:"i-flex-center s-8",children:e[0].settings.capabilities&&e[0].settings.capabilities.map(r=>s.jsx(M,{children:r}))})}),s.jsx(a,{label:t("Rewrite"),value:s.jsx(i,{status:e[0].settings.rewrite})}),s.jsx(a,{label:t("Custom rewrite"),value:e[0].settings.custom_rewrite}),s.jsx(a,{label:t("Query var"),value:s.jsx(i,{status:e[0].settings.query_var})}),s.jsx(a,{label:t("Custom query var"),value:s.jsx(i,{status:e[0].settings.custom_query_var})})]})};v.propTypes={data:u.object.isRequired};const U=()=>{const{data:e,loading:r}=q(o=>o.fetchTaxonomies),c=L(),{taxonomy:l}=R(),[n,d]=x.useState(0),[y,g]=x.useState(!1),_=S();if((l==="category"||l==="product_cat")&&_("/"),x.useEffect(()=>{c(k({taxonomy:l})).then(o=>{o.payload.length!==1&&g(!0),E(`${o.payload[0].singular}: ${t("global settings")}`),D()}).catch(o=>{g(!0),console.error(o)}),N("#/taxonomies")},[l]),r)return s.jsx(A,{});if(y)return s.jsx(B,{});const w=[s.jsx(h,{style:b.PRIMARY,to:`/edit_taxonomy/${l}/${n}`,children:t("Edit")}),s.jsx(h,{style:b.SECONDARY,to:`/assoc-post-taxonomy/${l}`,children:t("Taxonomies association")})],T=["Basic","Labels","Settings"];return s.jsx(F,{title:t("Taxonomy global settings"),actions:w,crumbs:[{label:t("Registered Taxonomies"),link:"/taxonomies"},{label:`${e.length>0?e[0].singular:""}: ${t("global settings")}`}],children:s.jsxs("div",{children:[s.jsx("div",{className:"i-flex-center mb-8 s-8",children:T.map((o,j)=>s.jsx("button",{type:"button",className:`acpt-btn acpt-btn-${parseInt(j)===parseInt(n)?"white text-bold color-black":"default"}`,onClick:()=>{d(parseInt(j))},children:o}))}),n===0&&s.jsx(p,{data:e}),n===1&&s.jsx(f,{data:e,taxonomy:l}),n===2&&s.jsx(v,{data:e})]})})};export{U as default};
