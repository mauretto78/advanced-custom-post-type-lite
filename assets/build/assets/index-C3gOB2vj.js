import{j as s,u as t}from"./fields-PF-HBT_1.js";import{R as S,u as C,a as u,d as q}from"./vendor-Bd2ZL6QG.js";import{B as A,s as E,n as I,f as N,L as $}from"./Layout-B2PWyaeR.js";import{P as c,w as g,r as B,b as Q,u as k,c as G,m as W,L as F,s as m}from"./index-DMK511Nl.js";import{P as M}from"./index-B64eJMy8.js";import{C as x,a}from"./CardRow-Dw7_IcZg.js";import{E as D}from"./index-BSY6Y1mo.js";import{p as H}from"./postLabels-CJQPm0hi.js";import{B as r}from"./index-mWmasEF3.js";import{B as b}from"./index-DcVJL_9b.js";const v=({data:e})=>{if(e.length>0)return s.jsxs(x,{children:[s.jsx(a,{label:t("Name"),value:e[0].name}),s.jsx(a,{label:t("Singular"),value:e[0].singular}),s.jsx(a,{label:t("Plural"),value:e[0].plural}),s.jsx(a,{label:t("Icon"),value:s.jsx(D,{value:e[0].icon})}),s.jsx(a,{label:t("Supports"),value:s.jsx("div",{className:"i-flex-center s-8",children:e[0].supports.map(n=>s.jsx(A,{children:n}))})})]})};v.propTypes={data:c.object.isRequired};const f=({postType:e,data:n})=>{const p=()=>{g("regeneratePostLabelsAction",{postType:e}).then(l=>{l.success&&(E("Labels successfully regenerated"),B(50)),l.error&&I.error(error)}).catch(l=>{console.error(l.message)})};if(n.length>0)return s.jsxs(x,{children:[s.jsxs("div",{className:"acpt-card-row",children:[s.jsx("span",{className:"label",children:s.jsx("a",{style:{fontWeight:"normal"},href:"#",onClick:l=>{l.preventDefault(),p()},children:t("Regenerate")})}),s.jsx("span",{className:"value"})]}),H.map(l=>s.jsx(a,{index:l.id,label:t(l.label),value:n[0].labels[l.id]}))]})};f.propTypes={postType:c.string.isRequired,data:c.object.isRequired};const y=({data:e,isWPGraphQLActive:n=!1})=>{if(e.length>0)return s.jsxs(x,{children:[n&&s.jsxs(S.Fragment,{children:[s.jsx(a,{label:t("Show the custom post type in WPGraphQL"),value:s.jsx(r,{status:e[0].settings.show_in_graphql})}),s.jsx(a,{label:t("GraphQL single name"),value:s.jsx(r,{status:e[0].settings.graphql_single_name})}),s.jsx(a,{label:t("GraphQL plural name"),value:s.jsx(r,{status:e[0].settings.graphql_plural_name})})]}),s.jsx(a,{label:t("Hierarchical"),value:s.jsx(r,{status:e[0].settings.hierarchical})}),s.jsx(a,{label:t("Is Public"),value:s.jsx(r,{status:e[0].settings.public})}),s.jsx(a,{label:t("Publicly queryable"),value:s.jsx(r,{status:e[0].settings.publicly_queryable})}),s.jsx(a,{label:t("Show in UI"),value:s.jsx(r,{status:e[0].settings.show_ui})}),s.jsx(a,{label:t("Show in menu"),value:typeof e[0].settings.show_in_menu=="string"?e[0].settings.show_in_menu:s.jsx(r,{status:e[0].settings.show_in_menu})}),s.jsx(a,{label:t("Show in nav menus"),value:s.jsx(r,{status:e[0].settings.show_in_nav_menus})}),s.jsx(a,{label:t("Show in admin bar"),value:s.jsx(r,{status:e[0].settings.show_in_admin_bar})}),s.jsx(a,{label:t("Show in REST API"),value:s.jsx(r,{status:e[0].settings.show_in_rest})}),s.jsx(a,{label:t("REST API base slug"),value:e[0].settings.rest_base}),s.jsx(a,{label:t("Menu position"),value:e[0].settings.menu_position}),s.jsx(a,{label:t("Capability Type"),value:e[0].settings.capability_type}),s.jsx(a,{label:t("Has archive"),value:s.jsx(r,{status:e[0].settings.has_archive})}),s.jsx(a,{label:t("Rewrite"),value:s.jsx(r,{status:e[0].settings.rewrite})}),s.jsx(a,{label:t("Custom rewrite rules"),value:e[0].settings.custom_rewrite}),s.jsx(a,{label:t("Query var"),value:e[0].settings.query_var}),s.jsx(a,{label:t("Custom query var"),value:e[0].settings.custom_query_var}),s.jsx(a,{label:t("Front URL prefix"),value:e[0].settings.front_url_prefix})]})};y.propTypes={data:c.object.isRequired,isWPGraphQLActive:c.bool};const es=()=>{const{data:e,loading:n}=Q(i=>i.fetchCustomPostTypes),p=k(),{postType:l}=C(),[_,w]=u.useState(!1),[o,d]=u.useState(0),[P,h]=u.useState(!1),R=q();if((l==="page"||l==="post")&&R("/"),u.useEffect(()=>{g("isWPGraphQLActiveAction",{}).then(i=>{w(i.status)}).catch(i=>{console.error(i.message)})},[]),u.useEffect(()=>{p(G({postType:l})).then(i=>{i.payload.length!==1&&h(!0),W(`${i.payload[0].singular}: ${t("global settings")}`),N()}).catch(i=>{h(!0),console.error(i)})},[l]),n)return s.jsx(F,{});if(P)return s.jsx(M,{});const L=[s.jsx(b,{style:m.PRIMARY,to:`/edit/${l}/${o}`,children:t("Edit")}),s.jsx(b,{style:m.SECONDARY,to:`/assoc-taxonomy-post/${l}`,children:t("Taxonomies association")})],T=["Basic","Labels","Settings"];return s.jsx($,{title:`${l}: ${t("global settings")}`,actions:L,crumbs:[{label:t("Registered Custom Post Types"),link:"/"},{label:`${e.length>0?e[0].singular:""}: ${t("global settings")}`}],children:s.jsxs("div",{children:[s.jsx("div",{className:"i-flex-center mb-8 s-8",children:T.map((i,j)=>s.jsx("button",{type:"button",className:`acpt-btn acpt-btn-${parseInt(j)===parseInt(o)?"white text-bold color-black":"default"}`,onClick:()=>{d(parseInt(j))},children:i}))}),o===0&&s.jsx(v,{data:e}),o===1&&s.jsx(f,{data:e,postType:l}),o===2&&s.jsx(y,{data:e,isWPGraphQLActive:_})]})})};export{es as default};
