import{u as t,j as i}from"./fields-PF-HBT_1.js";import{d as C,u as S,a as h}from"./vendor-Bd2ZL6QG.js";import{a as g}from"./index.esm-VK9FF9DZ.js";import{L as I,n as d}from"./Layout-5wRLwk9q.js";import{u as P,b as k,m as R,av as W,B as E,s as T,L,E as D,ax as V}from"./index-CFlPza-g.js";import{a as H}from"./woocommerce_icons-DJaYvKlZ.js";import{C as q,a as c}from"./CardRow-DpOs1rjK.js";import{I as B}from"./Input-XtQZVJQY.js";import{T as M}from"./Toggle-DG_p1uwi.js";import{C as U}from"./Checkbox-D0S6YaLH.js";import{S as A}from"./SelectMulti-Do9dVrkD.js";import{I as F}from"./InputHidden-BTcC8NHg.js";const te=({})=>{const n=P(),{data:e}=k(r=>r.fetchWooCommerceProductData),v=C(),{id:o}=S(),m=o?"Edit WooCommerce product data":"Create new WooCommerce product data",[b,p]=h.useState(!1),{register:s,handleSubmit:_,setValue:l,formState:{errors:u},clearErrors:x}=g({mode:"all"}),y=()=>e?typeof e.icon>"u"?null:typeof e.icon=="object"?[e.icon.icon]:[e.icon]:null;h.useEffect(()=>{R(t(m)),o?n(W({id:o})).then(r=>{const a=r.payload;l("product_data_name",a.name),l("icon",a.icon),l("show_ui",a.showInUI),p(!0)}):p(!0)},[]);const w=r=>{n(V(r)).then(a=>{const f=a.payload;f.success?(v("/product-data/product"),d.success(t("Product data successfully saved"))):d.error(f.error)}).catch(a=>{d.error(a)})},j=[i.jsx(E,{type:"submit",style:T.PRIMARY,children:t("Save")})];return b?i.jsx("form",{onSubmit:_(w),children:i.jsx(I,{crumbs:[{label:t("Registered Custom Post Types"),link:"/"},{label:t("WooCommerce product data"),link:"/product-data/product"},{label:o?t("Edit WooCommerce product data"):t("Create new WooCommerce product data")}],title:m,actions:j,children:i.jsxs(q,{style:"with-shadow",children:[i.jsx(F,{register:s,id:"id",value:o||D()}),i.jsx(c,{label:t("Product data name"),value:i.jsx(B,{id:"product_data_name",placeholder:t("Product data name"),description:t("The product data name."),register:s,errors:u,isRequired:!0,validate:{maxLength:{value:20,message:t("max length is 20")},required:t("This field is mandatory")}})}),i.jsx(c,{label:t("Icon"),value:i.jsx(A,{id:"icon",register:s,setValue:l,defaultValue:y(),values:H,clearErrors:x,errors:u,maxItems:1})}),i.jsx(c,{label:t("visibility"),value:i.jsx(U,{register:s,errors:u,id:"visibility",values:{"Show in simple products":{value:"show_if_simple",checked:e&&e.visibility?e.visibility.includes("show_if_simple"):!0},"Show in variable products":{value:"show_if_variable",checked:e&&e.visibility?e.visibility.includes("show_if_variable"):!0},"Show in grouped products":{value:"show_if_grouped",checked:e&&e.visibility?e.visibility.includes("show_if_grouped"):!0},"Show in external products":{value:"show_if_external",checked:e&&e.visibility?e.visibility.includes("show_if_external"):!0},"Hide in virtual products":{value:"hide_if_virtual",checked:e&&e.visibility?e.visibility.includes("hide_if_virtual"):!1},"Hide in external products":{value:"hide_if_external",checked:e&&e.visibility?e.visibility.includes("hide_if_external"):!1}}})}),i.jsx(c,{label:t("Show in UI"),value:i.jsx(M,{register:s,errors:u,id:"show_ui",description:t("Show the product data on the front store page."),defaultValue:null})})]})})}):i.jsx(L,{})};export{te as default};
