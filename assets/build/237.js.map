{"version":3,"sources":["webpack://advanced-custom-post-type-lite/./assets/src/App/components/pages/DeleteTaxonomy/index.js","webpack://advanced-custom-post-type-lite/./assets/src/App/components/reusable/Layout/Breadcrumbs/Breadcrumb.js","webpack://advanced-custom-post-type-lite/./assets/src/App/components/reusable/Layout/Breadcrumbs/index.js","webpack://advanced-custom-post-type-lite/./assets/src/App/redux/thunks/deleteTaxonomy.js","webpack://advanced-custom-post-type-lite/./assets/src/App/utils/misc.js"],"names":["DeleteTaxonomy","dispatch","state","deleteTaxonomyReducer","errors","success","loading","taxonomy","didMountRef","history","handleDeleteTaxonomy","current","push","toast","length","map","error","buttons","label","link","Breadcrumb","isLast","Breadcrumbs","crumbs","crumb","index","deleteTaxonomy","getState","res","metaTitle","title","originalDocumentTitle","document","split","changeCurrentAdminMenuLink","menuWrapper","querySelector","childNodes","forEach","currentValue","currentIndex","listObj","links","getElementsByTagName","i","elem","href","getAttribute","toCompare","classList","add","remove","refreshPage","timeout","setTimeout","window","location","reload"],"mappings":"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","file":"237.js","sourcesContent":["import React, {useEffect, useRef} from 'react';\nimport Breadcrumbs from \"../../reusable/Layout/Breadcrumbs\";\nimport {Link, useHistory, useParams} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {toast} from \"react-toastify\";\nimport {metaTitle} from \"../../../utils/misc\";\nimport {deleteTaxonomy} from \"../../../redux/thunks/deleteTaxonomy\";\nimport Layout from \"../../reusable/Layout\";\nimport ActionsBar from \"../../reusable/Layout/ActionsBar\";\n\nconst DeleteTaxonomy = () => {\n\n    // manage global state\n    const dispatch = useDispatch();\n    const {errors, success, loading} = useSelector(state => state.deleteTaxonomyReducer);\n\n    // manage local state\n    const {taxonomy} = useParams();\n    const didMountRef = useRef(false);\n\n    useEffect(() => {\n        metaTitle(`Delete ${taxonomy}`);\n    }, []);\n\n    // manage redirect\n    const history = useHistory();\n\n    // manage delete\n    const handleDeleteTaxonomy = async (taxonomy) => {\n        await dispatch(deleteTaxonomy(taxonomy));\n    };\n\n    // handle delete outcome\n    useEffect(() => {\n        if (didMountRef.current){\n            if(!loading){\n                if(success){\n                    history.push('/taxonomies');\n                    toast.success(\"Taxonomy successfully deleted\");\n                }\n\n                if(errors.length > 0){\n                    errors.map((error) => {\n                        toast.error(error);\n                    });\n                }\n            }\n        } else {\n            didMountRef.current = true;\n        }\n    }, [loading]);\n\n    const buttons = (\n        <React.Fragment>\n            <a className=\"acpt-btn acpt-btn-danger\" onClick={ e => handleDeleteTaxonomy(taxonomy) }>\n                Yes, Delete it\n            </a>\n            <Link\n                to=\"/taxonomies\"\n                className=\"acpt-btn acpt-btn-primary-o\">\n                Return back to list\n            </Link>\n        </React.Fragment>\n    );\n\n    return (\n        <Layout>\n            <ActionsBar\n                title={`Delete ${taxonomy}`}\n                actions={buttons}\n            />\n            <main>\n                <Breadcrumbs crumbs={[\n                    {\n                        label: \"Registered Custom Post Types\",\n                        link: \"/\"\n                    },\n                    {\n                        label: \"Registered Taxonomies\",\n                        link: \"/taxonomies\"\n                    },\n                    {\n                        label: 'Delete Taxonomy'\n                    }\n                ]} />\n                <h3 className=\"acpt-alert acpt-alert-warning\">You are going to delete <strong>{taxonomy} </strong> taxonomy. Are you sure?</h3>\n            </main>\n        </Layout>\n    );\n};\n\nexport default DeleteTaxonomy;","import React from 'react';\nimport {Link} from \"react-router-dom\";\nimport {Icon} from \"@iconify/react\";\n\nconst Breadcrumb = ({label, link, isLast}) => {\n\n    return (\n        <React.Fragment>\n            <li className={isLast ? 'current' : ''}>\n                {link ?\n                    <Link to={link}>\n                        {label}\n                    </Link>\n                    :\n                    label\n                }\n            </li>\n            {!isLast && (\n                <span className=\"separator\">\n                    <Icon icon=\"bx:bx-chevron-right\" color=\"#aaa\" width=\"18px\" />\n                </span>\n            )}\n        </React.Fragment>\n    );\n};\n\nexport default Breadcrumb;","import React from 'react';\nimport Breadcrumb from \"./Breadcrumb\";\n\nconst Breadcrumbs = ({crumbs}) => {\n    return (\n        <div className=\"acpt-breadcrumbs\">\n            {crumbs.length > 0 && (\n                <ul>\n                    {crumbs.map((crumb, index) => (\n                        <Breadcrumb\n                            label={crumb.label}\n                            link={crumb.link}\n                            isLast={(index+1) === crumbs.length}\n                            key={index}\n                        />\n                    ))}\n                </ul>\n            )}\n        </div>\n    );\n};\n\nexport default Breadcrumbs;","import {wpAjaxRequest} from \"../../utils/ajax\";\nimport {deleteTaxonomyFailure, deleteTaxonomyInProgress, deleteTaxonomySuccess} from \"../actions/deleteTaxonomyActions\";\n\nexport const deleteTaxonomy = (taxonomy) => async (dispatch, getState) => {\n    try {\n        dispatch(deleteTaxonomyInProgress(taxonomy));\n        const res = await wpAjaxRequest('deleteTaxonomyAction', taxonomy ? {taxonomy:taxonomy} : {} );\n        (res.success === true) ? dispatch(deleteTaxonomySuccess()) : dispatch(deleteTaxonomyFailure(res.error)) ;\n    } catch ( e ) {\n        dispatch(deleteTaxonomyFailure(e));\n    }\n};\n","/**\n * Change document's <title>\n * @param title\n */\nexport const metaTitle = (title) => {\n    const originalDocumentTitle = document.title.split(\"‹\");\n    document.title = `${title} ‹ ${originalDocumentTitle[1]}`;\n};\n\n/**\n * Add current class to admin menu link\n * @param link\n */\nexport const changeCurrentAdminMenuLink = (link) => {\n\n    const menuWrapper = document.querySelector('#toplevel_page_advanced-custom-post-type-lite .wp-submenu');\n\n    menuWrapper.childNodes.forEach((currentValue, currentIndex, listObj) => {\n        const links = currentValue.getElementsByTagName('a');\n\n        for(let i = 0; i < links.length; i++) {\n            let elem = links[i];\n            let href = elem.getAttribute(\"href\");\n            let toCompare = 'admin.php?page=advanced-custom-post-type-lite'+link;\n\n            if( toCompare === href ){\n                currentValue.classList.add(\"current\");\n            } else {\n                currentValue.classList.remove(\"current\");\n            }\n        }\n    });\n};\n\nexport const refreshPage = (timeout = 0) => {\n    setTimeout(function () {\n        window.location.reload();\n    }, timeout);\n};"],"sourceRoot":""}